<!DOCTYPE html>
<html lang="en">
<head>
  
  {{> head }}
  
  <title>Amrita Trees: Repository</title>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/map.css">
  
  <script src="./js/app.js" defer></script>
  <script src="./js/map.js" defer></script>
  
<style>

#mapContainer{
  height:100%;
  overflow:hidden;
}
  
#map{
  height:calc(100% + 23px);
}  

  
.gm-style-iw-d{
  color:black;    
}
</style>

<style>
#treetable{
  
  --textSize: 1.5rem;
  --heightMultiplier: 4;
  
  --gap: 10px;
  width:min(350px,calc(100% - var(--gap) - var(--gap)));
  height:calc( var(--textSize) * var(--heightMultiplier) );
  background-color:white;
  border: 3px solid red;
  overflow:auto;
  
  position:absolute;
  left:var(--gap);
  bottom:calc( 3 * var(--gap) );
}

#treetable .table{
  display:flex;
  flex-direction:column;
  
  height:100%;
  overflow-y:scroll;
  scroll-snap-type: y mandatory;
  scroll-snap-align: center;
}
  
#treetable .table div{
  height: var(--textSize);
  color:black;
  flex: 0 0 66%;
  
  font-size: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
}
  
</style>
  
</head>
<body id="body">
  <div id="container">
    
    <div id="overlay" onclick="clickedOverlay()"></div>        

    <div id="mapContainer">
      <div id="map"></div>
    </div>


    
    <div id="treetable">
      <div class="table">
        
        <div>aaa</div>
        <div>bbb</div>
        <div>ccc</div>
        <div>ddd</div>
        <div>eee</div>
        <div>fff</div>

      </div>
    </div>

  </div>
</body>
  
<script>
  

  
</script>
  
<script>
function initMap() {
  
  let map = new google.maps.Map(document.getElementById("map"),
    {
      center: { lat: 10.900016808568687, lng: 76.9028589289025 },
      zoom: 20,
      mapId: "661dd2cc98d8e9e2",
      mapTypeId: 'terrain',
    }
  );
  
  map.setOptions({
    draggable: false, 
    zoomControl: false, 
    scrollwheel: false, 
    disableDoubleClickZoom: true,
    disableDefaultUI: true,
  });

  }
  
  const loop = () => {
    if(navigator.geolocation){navigator.geolocation.getCurrentPosition( (position)=>{
      const pos = {
        lat: position.coords.latitude,
        lng: position.coords.longitude,
      };
      map.setCenter(pos);
      const latlng = new google.maps.LatLng(pos.lat, pos.lng);
      currPosMarker.setPosition(latlng);
    });
    }
  }
  
  const currPosMarker = new google.maps.Marker({
    position: { lat: 10.900016808568687, lng: 76.9028589289025 },map,
    icon:"https://cdn.glitch.global/9d67ff5c-524b-467b-aa2f-2cb422728542/currPosMarker.png?v=1661892594255"
  });

  
  // setInterval(loop,1000);
}
  
  
const tree_icon_url = "https://cdn.glitch.global/9d67ff5c-524b-467b-aa2f-2cb422728542/treeicon.32png.png?v=1662405399801";
window.initMap = initMap;
</script>

<!-- <script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA554gL9cKaa3KqhS8biWu9p9eDCn31z0Q&callback=initMap">
</script> -->
  
</html>